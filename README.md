# eslint-plugin-no-unused-styling

no unused styling from @fluentui mergeStyleSets

Linting, essentially is some sort of compilation. An abstract syntax tree ([AST](https://en.wikipedia.org/wiki/Abstract_syntax_tree)) is a tree representation of the abstract syntactic structure of text (often source code) written in a formal language. Each node of the tree denotes a construct occurring in the text. Here is a [tool](https://astexplorer.net/) to construct AST tree based on programming lanague selected.

This custom linting rule is created by following [this](https://flexport.engineering/writing-custom-lint-rules-for-your-picky-developers-67732afa1803) guide:

1. run `npm i -g yo generator-eslint`
2. Run `yo` to open up an interactive CLI
3. On "What would you like to do?", select `Eslint`
4. On "Do you want to generate a rule or plugin?", select `Plugin`
5. Fill in the information.
6. Under the same directory, execture `yo` again.
7. On "What would you like to do?", select `Eslint`
8. On "Do you want to generate a rule or plugin?", select `Rule`
9. Fill in the information.


After doing the above, this directory would contains a plugin with a rule inside. This is a standard structure if the plugin is to be published to registy:
* `docs`: contains a markdown to describe the linting rule(s).
* `libs`: contains the actual rule(s).
* `tests`: contains the tests for each rule(s).

The structure of a custom lint [rule](./lib/rules/no-unused-styling.js) is simple, export an object with two attributes, `meta` and `create`:
* `meta` contains meta information such as `docs` that describe the linting rule, these are auto-generated by `yo`.
* `create` contains the linting logic. the first argument is `context`. These contains `report()` and other callback.


For more information, see eslint documentation [here](https://eslint.org/docs/developer-guide/working-with-rules).


## Installation

Under this project, run `npm run build` to generate `lib` directory.

Next, install `eslint-plugin-no-unused-styling` by file system linkage:
1. add `eslint-plugin-no-unused-styling : "file:<filepath>` under `devDependencies`. (name format: `eslint-plugin-<plugin-name>`)
2. run `npm run link`

Watch [installation](./assets/01-installation.gif)


## Usage

Add `no-unused-styling` to the plugins section of your `.eslintrc` configuration file. You can omit the `eslint-plugin-` prefix:

```json
{
    "plugins": [
        "no-unused-styling"
    ]
    "rules": {
        "no-unused-styling/no-unused-styling": 2
    }
}
```

## Typescript

After writing a certain amount of code, using plain JavaScript becomes hard to maintain. Therefore, TypeScript is added to the project. To integrate TypeScript, [typescript-eslint](https://github.com/typescript-eslint/typescript-eslint/tree/d21cfe0f4b7d3041948b1b6e0cd56c5ec34b2b3f/packages/eslint-plugin) is reference .

Note that [tsconfig.json](./tsconfig.json) is a combintation of [this](https://github.com/typescript-eslint/typescript-eslint/blob/d21cfe0f4b7d3041948b1b6e0cd56c5ec34b2b3f/packages/eslint-plugin/tsconfig.json) and [this](https://github.com/typescript-eslint/typescript-eslint/blob/d21cfe0f4b7d3041948b1b6e0cd56c5ec34b2b3f/tsconfig.base.json) config files. 

In addition, as typescript-eslint does not include `lib` in source control, so is this project. Note that `lib` is generated by `npm run build` with `tsc`.

## Supported Rules

* [no-unused-styling](./docs/rules/no-unused-styling.md): prevent unused classNames produced by `@fluentui/mergeStyleSets`
