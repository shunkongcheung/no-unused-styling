# eslint-plugin-no-unused-styling

no unused styling from @fluentui mergeStyleSets

Linting, essentially is some sort of compilation. An abstract syntax tree ([AST](https://en.wikipedia.org/wiki/Abstract_syntax_tree)) is a tree representation of the abstract syntactic structure of text (often source code) written in a formal language. Each node of the tree denotes a construct occurring in the text. Here is a [tool](https://astexplorer.net/) to construct AST tree based on programming lanague selected.

This custom linting rule is created by following [this](https://flexport.engineering/writing-custom-lint-rules-for-your-picky-developers-67732afa1803) guide:

1. run `npm i -g yo generator-eslint`
2. Run `yo` to open up an interactive CLI
3. On "What would you like to do?", select `Eslint`
4. On "Do you want to generate a rule or plugin?", select `Plugin`
5. Fill in the information.
6. Under the same directory, execture `yo` again.
7. On "What would you like to do?", select `Eslint`
8. On "Do you want to generate a rule or plugin?", select `Rule`
9. Fill in the information.

After doing the above, this directory would contains a plugin with a rule inside. This is a standard structure if the plugin is to be published to registy:
* `docs`: contains a markdown to describe the linting rule(s).
* `libs`: contains the actual rule(s).
* `tests`: contains the tests for each rule(s).


## Installation

You'll first need to install [ESLint](https://eslint.org/):

```sh
npm i eslint --save-dev
```

Next, install `eslint-plugin-no-unused-styling`:

```sh
npm install eslint-plugin-no-unused-styling --save-dev
```

Watch [installation](./assets/01-installation.gif)

The structure of a custom lint [rule](./lib/rules/no-unused-styling.js) is simple, export an object with two attributes, `meta` and `create`:
* `meta` contains meta information such as `docs` that describe the linting rule, these are auto-generated by `yo`.
* `create` contains the linting logic. the first argument is `context`. These contains `report()` and other callback.

For more information, see eslint documentation [here](https://eslint.org/docs/developer-guide/working-with-rules).

To confirm my custom eslint rule is working, I created a simple custom rule that would prompt error whenever a function called `test()` is beingcalled. As the video shows:
* The error message is `Error` 
* The callback is under `CallExpression`, which mean this callback is triggered on encountering a call expression, more callback can be found by reading the type definition.

Back to `NovaClient`, a `dependencies` is added under `eslint-plugin-demo`, the format is `eslint-plugin-<plugin-name>`, plugin name can be any meaningful description, as long as it does not conflict with other plugin that has been installed. 

In this example, file path installation is used because the plugin is not published to registry. After updating `package.json`, run `npm link` to ensure the plugin is installed. 


## Usage

Add `no-unused-styling` to the plugins section of your `.eslintrc` configuration file. You can omit the `eslint-plugin-` prefix:

```json
{
    "plugins": [
        "no-unused-styling"
    ]
    "rules": {
        "no-unused-styling/no-unused-styling": 2
    }
}
```


## Supported Rules

* [no-unused-styling](./docs/rules/no-unused-styling.md): prevent unused classNames produced by `@fluentui/mergeStyleSets`
